{"ast":null,"code":"var _jsxFileName = \"/Users/praneetha18/Downloads/games-app-main/src/components/CandyCrush/Counter.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Loader from '../Loader/Loader';\nimport useUserStore from '../../store/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Counter = _ref => {\n  _s();\n  let {\n    score\n  } = _ref;\n  const [counter, setCounter] = useState(90);\n  const [loading, setLoading] = useState(false);\n  const token = useUserStore(state => state.token);\n  const getUser = useUserStore(state => state.getUser);\n  const navigate = useNavigate();\n\n  // Third Attempts\n  useEffect(() => {\n    const updateScore = async () => {\n      var ans = 0;\n      if (score > 300) ans = 5;else if (score > 250) ans = 4;else if (score > 200) ans = 3;else if (score > 150) ans = 2;else if (score > 100) ans = 1;\n      const res = await fetch(`${process.env.REACT_APP_BASE_URL}/update-score`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer :${token}`\n        },\n        body: JSON.stringify({\n          game: 'CC',\n          score: ans,\n          total: score\n        })\n      });\n      getUser(token);\n      setLoading(false);\n      if (res.status === 200) {\n        navigate(\"/candy-crush\");\n      } else {\n        alert(\"Could Not Save Scores \");\n      }\n    };\n    if (loading) updateScore();\n  }, [loading, getUser, navigate, score, token]);\n  useEffect(() => {\n    if (counter <= 0) {\n      setLoading(true);\n    }\n    const timer = counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\n    return () => clearInterval(timer);\n  }, [counter]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: [\"Time Remaining: \", counter, \" seconds\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Counter, \"QQRbl39oU+L4c1eENfErwHwprTw=\", false, function () {\n  return [useUserStore, useUserStore, useNavigate];\n});\n_c = Counter;\nexport default Counter;\nvar _c;\n$RefreshReg$(_c, \"Counter\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Loader","useUserStore","Counter","score","counter","setCounter","loading","setLoading","token","state","getUser","navigate","updateScore","ans","res","fetch","process","env","REACT_APP_BASE_URL","method","headers","Authorization","body","JSON","stringify","game","total","status","alert","timer","setInterval","clearInterval"],"sources":["/Users/praneetha18/Downloads/games-app-main/src/components/CandyCrush/Counter.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport Loader from '../Loader/Loader'\nimport useUserStore from '../../store/user';\n\nconst Counter = ({ score }) => {\n    const [counter, setCounter] = useState(90)\n    const [loading, setLoading] = useState(false)\n    const token = useUserStore(state => state.token)\n    const getUser = useUserStore(state => state.getUser)\n    const navigate = useNavigate()\n\n    // Third Attempts\n    useEffect(() => {\n        const updateScore = async () => {\n            var ans = 0;\n            if (score > 300)\n                ans = 5;\n            else if (score > 250)\n                ans = 4;\n            else if (score > 200)\n                ans = 3;\n            else if (score > 150)\n                ans = 2;\n            else if (score > 100)\n                ans = 1;\n\n\n            const res = await fetch(`${process.env.REACT_APP_BASE_URL}/update-score`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer :${token}`,\n                },\n                body: JSON.stringify({ game: 'CC', score: ans, total: score }),\n            });\n\n            getUser(token)\n\n            setLoading(false);\n            if (res.status === 200) {\n                navigate(\"/candy-crush\");\n            } else {\n                alert(\"Could Not Save Scores \");\n            }\n        }\n\n        if (loading)\n            updateScore();\n    }, [loading,getUser,navigate,score,token])\n\n    useEffect(() => {\n\n        if (counter <= 0) {\n            setLoading(true);\n        }\n\n        const timer =\n            counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\n        return () => clearInterval(timer);\n    }, [counter]);\n\n    if (loading)\n        return <Loader />\n    return (\n        <h3>Time Remaining: {counter} seconds</h3>\n    );\n}\n\nexport default Counter"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,YAAY,MAAM,kBAAkB;AAAC;AAE5C,MAAMC,OAAO,GAAG,QAAe;EAAA;EAAA,IAAd;IAAEC;EAAM,CAAC;EACtB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMU,KAAK,GAAGP,YAAY,CAACQ,KAAK,IAAIA,KAAK,CAACD,KAAK,CAAC;EAChD,MAAME,OAAO,GAAGT,YAAY,CAACQ,KAAK,IAAIA,KAAK,CAACC,OAAO,CAAC;EACpD,MAAMC,QAAQ,GAAGZ,WAAW,EAAE;;EAE9B;EACAF,SAAS,CAAC,MAAM;IACZ,MAAMe,WAAW,GAAG,YAAY;MAC5B,IAAIC,GAAG,GAAG,CAAC;MACX,IAAIV,KAAK,GAAG,GAAG,EACXU,GAAG,GAAG,CAAC,CAAC,KACP,IAAIV,KAAK,GAAG,GAAG,EAChBU,GAAG,GAAG,CAAC,CAAC,KACP,IAAIV,KAAK,GAAG,GAAG,EAChBU,GAAG,GAAG,CAAC,CAAC,KACP,IAAIV,KAAK,GAAG,GAAG,EAChBU,GAAG,GAAG,CAAC,CAAC,KACP,IAAIV,KAAK,GAAG,GAAG,EAChBU,GAAG,GAAG,CAAC;MAGX,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,kBAAmB,eAAc,EAAE;QACtEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAG,WAAUb,KAAM;QACpC,CAAC;QACDc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAE,IAAI;UAAEtB,KAAK,EAAEU,GAAG;UAAEa,KAAK,EAAEvB;QAAM,CAAC;MACjE,CAAC,CAAC;MAEFO,OAAO,CAACF,KAAK,CAAC;MAEdD,UAAU,CAAC,KAAK,CAAC;MACjB,IAAIO,GAAG,CAACa,MAAM,KAAK,GAAG,EAAE;QACpBhB,QAAQ,CAAC,cAAc,CAAC;MAC5B,CAAC,MAAM;QACHiB,KAAK,CAAC,wBAAwB,CAAC;MACnC;IACJ,CAAC;IAED,IAAItB,OAAO,EACPM,WAAW,EAAE;EACrB,CAAC,EAAE,CAACN,OAAO,EAACI,OAAO,EAACC,QAAQ,EAACR,KAAK,EAACK,KAAK,CAAC,CAAC;EAE1CX,SAAS,CAAC,MAAM;IAEZ,IAAIO,OAAO,IAAI,CAAC,EAAE;MACdG,UAAU,CAAC,IAAI,CAAC;IACpB;IAEA,MAAMsB,KAAK,GACPzB,OAAO,GAAG,CAAC,IAAI0B,WAAW,CAAC,MAAMzB,UAAU,CAACD,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;IACnE,OAAO,MAAM2B,aAAa,CAACF,KAAK,CAAC;EACrC,CAAC,EAAE,CAACzB,OAAO,CAAC,CAAC;EAEb,IAAIE,OAAO,EACP,oBAAO,QAAC,MAAM;IAAA;IAAA;IAAA;EAAA,QAAG;EACrB,oBACI;IAAA,WAAI,kBAAgB,EAACF,OAAO,EAAC,UAAQ;EAAA;IAAA;IAAA;IAAA;EAAA,QAAK;AAElD,CAAC;AAAA,GA9DKF,OAAO;EAAA,QAGKD,YAAY,EACVA,YAAY,EACXF,WAAW;AAAA;AAAA,KAL1BG,OAAO;AAgEb,eAAeA,OAAO;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}